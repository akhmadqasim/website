{% extends 'home/base.html' %}
{% load static %}
{% block content %}
    <!-- banner -->
    <div class="mil-inner-banner mil-p-0-120">
        <div class="mil-banner-content mil-up">
            <div class="mil-animation-frame">
                <div class="mil-animation mil-position-4 mil-dark mil-scale" data-value-1="6" data-value-2="1.4"></div>
            </div>
            <div class="container">
                <ul class="mil-breadcrumbs mil-mb-60">
                    <li><a href="{% url 'home' %}">Homepage</a></li>
                    <li><a href="blog.html">Blog</a></li>
                </ul>
                <h1 class="mil-mb-60">Exploring <span class="mil-thin">the World</span> <br> Through Our <span
                        class="mil-thin">Blog</span></h1>
                <a href="#blog" class="mil-link mil-dark mil-arrow-place mil-down-arrow">
                    <span>Publications</span>
                </a>
            </div>
        </div>
    </div>
    <!-- banner end -->
    <!-- popular -->
    <section class="mil-soft-bg" id="blog">
        <div class="container mil-p-120-60">
            <div class="row align-items-center mil-mb-30">
                <div class="col-lg-6 mil-mb-30">
                    <h3 class="mil-up">New Blogs:</h3>
                </div>
                <div class="col-lg-6 mil-mb-30">
                    <div class="mil-adaptive-right mil-up">
                        <a href="#blog" class="mil-link mil-dark mil-arrow-place">
                            <span>View all</span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="row">
                {% for blog in new_blogs %}
                    <div class="col-lg-6">
                        <a href="{% url 'post_detail' blog.slug %}" class="mil-blog-card mil-mb-60">
                            <div class="mil-cover-frame mil-up">
                                {% if blog.thumbnail %}
                                    <img src="{{ blog.thumbnail.url }}" alt="{{ blog.title }}">
                                {% else %}
                                    <img src="{% static 'home/img/blog/default.png' %}" alt="cover">
                                {% endif %}
                            </div>
                            <div class="mil-post-descr">
                                <div class="mil-labels mil-up mil-mb-30">
                                    <div class="mil-label mil-upper mil-accent">{{ blog.category }}</div>
                                    <div class="mil-label mil-upper">{{ blog.created_at|date:"F Y" }}</div>
                                </div>
                                <h4 class="mil-up mil-mb-30">{{ blog.title|truncatechars:'75' }}</h4>
                                <p class="mil-post-text mil-up mil-mb-30">{{ blog.content }}
                                </p>
                                <div class="mil-link mil-dark mil-arrow-place mil-up">
                                    <span>Read more</span>
                                </div>
                            </div>
                        </a>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>
    <!-- popular end -->
    <!-- blog -->
    <section>
        <div class="container mil-p-120-120">
            <div class="row align-items-center mil-mb-30">
                <div class="col-lg-4 mil-mb-30">
                    <h3 class="mil-up">Categories:</h3>
                </div>
                <div class="col-lg-8 mil-mb-30">
                    <div class="mil-adaptive-right mil-up">
                        <ul class="mil-category-list" id="categoryList">
                            {% for category in categories %}
                                <li><a href="{% url 'blogs' %}?category={{ category.name }}">{{ category.name }}</a></li>
                            {% endfor %}
                            <li><a href="{% url 'blogs' %}" class="mil-active">All</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="row">
                {% for blog in all_blogs %}
                    <div class="col-lg-12">
                        <a href="{% url 'post_detail' blog.slug %}"
                           class="mil-blog-card mil-blog-card-hori mil-more mil-mb-60">
                            <div class="mil-cover-frame mil-up">
                                {% if blog.thumbnail %}
                                    <img src="{{ blog.thumbnail.url }}" alt="{{ blog.title }}">
                                {% else %}
                                    <img src="{% static 'home/img/blog/default.png' %}" alt="cover">
                                {% endif %}
                            </div>
                            <div class="mil-post-descr">
                                <div class="mil-labels mil-up mil-mb-30">
                                    <div class="mil-label mil-upper mil-accent">{{ blog.category }}</div>
                                    <div class="mil-label mil-upper">{{ blog.created_at|date:"F Y" }}</div>
                                </div>
                                <h4 class="mil-up mil-mb-30">{{ blog.title|truncatechars:'75' }}</h4>
                                <p class="mil-post-text mil-up mil-mb-30">Lorem ipsum dolor sit amet, consectetur
                                    {{ blog.content }}
                                </p>
                                <div class="mil-link mil-dark mil-arrow-place mil-up">
                                    <span>Read more</span>
                                </div>
                            </div>
                        </a>
                    </div>
                {% endfor %}
{#                <div class="col-lg-12">#}
{#                    <div class="mil-pagination">#}
{#                        <a href="blog-inner.html" class="mil-pagination-btn mil-active">1</a>#}
{#                        <a href="blog-inner.html" class="mil-pagination-btn">2</a>#}
{#                        <a href="blog-inner.html" class="mil-pagination-btn">3</a>#}
{#                        <a href="blog-inner.html" class="mil-pagination-btn">4</a>#}
{#                        <a href="blog-inner.html" class="mil-pagination-btn">5</a>#}
{#                    </div>#}
{#                </div>#}
            </div>
        </div>
    </section>
    <!-- blog end -->
    <!-- call to action -->
    <section class="mil-soft-bg">
        <div class="container mil-p-120-120">
            <div class="row">
                <div class="col-lg-10">
                    <span class="mil-suptitle mil-suptitle-right mil-suptitle-dark mil-up">Looking to make your mark? We'll help you turn <br> your project into a success story.</span>
                </div>
            </div>
            <div class="mil-center">
                <h2 class="mil-up mil-mb-60">Stay up-to-date <span class="mil-thin">with the</span><br> latest news by
                    <span class="mil-thin">subscribing</span><br> to our <span class="mil-thin">newsletter!</span>
                </h2>
                <div class="row justify-content-center mil-up">
                    <div class="col-lg-4">
                        <form class="mil-subscribe-form mil-subscribe-form-2 mil-up">
                            <input type="text" placeholder="Enter our email">
                            <button type="submit" class="mil-button mil-icon-button-sm mil-arrow-place"></button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- call to action end -->
{% endblock %}
{% block js %}
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const categoryLinks = document.querySelectorAll('.mil-category-list a');

            categoryLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();

                    categoryLinks.forEach(link => link.classList.remove('mil-active'));

                    link.classList.add('mil-active');
                });
            });
        });

    </script>
{% endblock %}